\chapter{Conclusion and Outlook} %% change
\label{chapter_Conclusion} %% change
\graphicspath{ {./chapter-6/figures/} }  %% change
\captionsetup[figure]{labelfont=bf}
\captionsetup{margin=1.5em}
\captionsetup[table]{labelfont=bf}


\begin{comment}


%% The '0pt' option ensures that no extra vertical space follows this epigraph,
%% since there is another epigraph after it.
\epigraph[0pt]{
Nel mezzo del cammin di nostra vita
mi ritrovai per una selva oscura,
che la diritta via era smarrita.

In the midst of life's journey
I found myself in a dark wood
where the right path was lost.

}{First stanza of Dante's Inferno}

\end{comment}
%% Start the actual chapter on a new page.
%\newpage
\section{Conclusion}
In this dissertation, we mainly explore the practicality of applying  Saddle Point Construction (SPC) as a lens design strategy and reveal the dynamic nature and the complexity of the lens design (optimization) landscape.  As explained in the dissertation, SPC provides a way to systematically obtain new solutions for lens design. SPC requires searching for saddle points with one-dimensional scans and it does not increase the computation effort significantly. 

SPC can be used as a global search tool when combined with local optimization routines. This is demonstrated in Chapter \ref{chapter_SPC_simple_system_landscape} and togther with the first wide-angle lens example in Chapter \ref{chapter_4_complex_system_exploration}. It can also be used as a tool to effectively provide a small pool of solution candidates without drastic modification of the system configuration (UV microscope objective and photo-lithographic objective in Chapter \ref{chapter_4_complex_system_exploration}). 

% related to Q1, SPC cannot construct all saddle points
To use SPC as a global search tool, we show that for systems containing a relatively small number (e.g. less than six) of lens elements, it is possible to start from an existing local minimum to search through the saddle points - minima network for a better solution (Figure \ref{fig:tripletnetwork}). An original global optimization problem in a five-dimensional space is reduced to six one-dimensional scans and several local optimization routines. We observe that not all the saddle points can be constructed using SPC. Nevertheless, because of the redundancies in the saddle points - minima network, all minima can still be reached with SPC in this example. 

% relate to Q2 & Q3, SPC constructed network does not link to all the minima; It also mentions that the relevant minima are found
When the design requirements (e.g. wavelength requirements, FOV) changes, the design landscape changes accordingly. It results as a changed number of saddle points and minima as well as changed links in the network. At the latter part of Chapter \ref{chapter_SPC_simple_system_landscape}, we elaborate how the FOV change would affect the saddle points and minima. One of the observations is that new minima can appear through this process, and SPC may miss these minima. However, these minima are usually solutions with high merit function values (worse performance). In the design cases we have investigated, using SPC can always obtain the best solution(s). Therefore, we argue that missing solutions with high merit function values is practically acceptable. 

\begin{comment}
Given the studied cases, we try to answer the following research questions in order to speculate on the effectiveness of SPC as a global search tool for complex systems. 

\vspace{1em}

\textbf{Questions 1}:  In a lens design landscape, are all the saddle points able to be constructed using SPC? 

The answer is no. This is directly shown in the solution network in the wide-angle pinhole lens (Figure \ref{fig:tripletnetwork}) in Chapter \ref{chapter_SPC_simple_system_landscape}. A saddle point system (SP12) is found via a saddle point detection algorithm, however, cannot be constructed with SPC. This saddle point has been closely observed and we show that it exists for a bigger FOV and disappears when the FOV decreases (Figure \ref{fig:systemborn}). The observation is that these unstable saddle points (their existence in the landscape is sensitive to some system configurations) can not be constructed using SPC. For a more complex system, the landscape is assumed to be more complicated and we believe that more of such saddle points exist. 

Nevertheless, in the example we show, there are redundancies of the saddle points - minima links in the design network. Via another reachable route, all minima can still be obtained with SPC. It concludes that we depend on the redundancy of the saddle points - minima network for the success of finding all solutions. This leads us to the next question: 
\vspace{1em}

\textbf{Question 2}: Are all the minima always linked via the saddle points - minma network revealed by SPC?

The answer to this question is also no. In Chapter \ref{chapter_SPC_method_reccomendation}, we explain that the constructed saddle point system contains a zero-thickness element. Consequently, the minima obtained from the saddle points initially contain a zero-thickness element. It is not guaranteed that the minima with zero-thickness element still exist when the thickness is increased. This is seen in the six-element wide-angle lens in Figure \ref{fig:thickness_increase}: when the thickness of the originally zero-thickness element increases above 2 mm, the optimized minimum does not retain the system shape of the minimum containing the zero-thickness element. This case is in practice not a concern since it means SPC creates redundant minima when the constructed element has zero-thickness. However, the reversed situation is not preferred in practical design: a minimum with a practical lens thickness can not be related to a minimum containing a zero-thickness element and therefore cannot be obtained via SPC. This scenario is observed and illustrated for the three-element wide-angle lens in Figure \ref{fig:thicknesschange}. As a result, a minimum with practical lens thicknesses is isolated from the saddle points - minima network obtained via SPC. 

Despite the fact that not all the local minima can be reached by SPC, we observe that in all the investigated cases these unreachable solutions are usually the ones with high merit function values. The best solutions are always obtainable via SPC. To be fully confident about SPC's application in lens design, this leads to our next research question.

\vspace{1em}

\textbf{Question 3}: Does the saddle points - minima network obtained via SPC always contain the best or the best pool of solutions for lens design? 

We cannot answer this question within our research. It is a difficult task to prove the positive statement of this question and neither have we observed any case to falsify it. If the answer to this question is yes, from our point of view, it implies the following hypotheses:

\begin{enumerate}[nosep]
\item The good and best solutions in a lens design network are more stable compared to the bad solutions;
\item The stable part of the design landscape exhibits certain properties which can be captured by the saddle points - minima network obtained via multiple SPC scans.
\end{enumerate}


To better verify these hypotheses, a deeper understanding of the lens design landscape is necessary. We propose some possible research directions in the next section. 

\vspace{1em}
\end{comment}

What is always valid for SPC is that, given a known local minimum, using SPC is effective to provide several other local minima. These new local minima can be compared with the original local minimum to search for better solutions. This is especially useful when considering a dynamic design landscape. 

The dynamic aspect of the lens design landscape comes from the nature of the design activity - it is an interactive and continuous process between the design subject and the evaluator (designer). In Chapter \ref{chapter_5_SMS}, we show that for an ideal case where the design landscape can be constructed statically (using SMS to directly generate a starting point with all aspheric surfaces), the chance of arriving at a global minimum is high. The rest of the optimization strategies which involve gradually following a changing design landscape, are less effective: they either cannot find a satisfactory minimum or require a large amount of optimization cycles compared to SMS. In Chapter \ref{chapter_SPC_simple_system_landscape}, we dedicate a section to discuss how a changing FOV can affect the number of solutions (and saddle points). In the example of the UV microscope objective (Chapter \ref{chapter_4_complex_system_exploration}), we demonstrate how the use of the constraints could affect the design landscape by altering the number of saddle points which can be constructed. The rule of thumb is that a less constrained system has a higher chance of producing more solution candidates. 

In the example of the photo-lithographic objective in Chapter \ref{chapter_4_complex_system_exploration}, we demonstrate a strategy to effectively obtain solution candidates. It can be summarized as the following steps: Step one, apply the least possible number of constraints in the design; Step two, perform SPC scan at desired positions; Step three, restore all necessary constraints to further optimize the candidates for evaluation; Step four, repeat the above steps when the designer intends to escape from a local minimum.

Lens design is a science as well as an art of using and combining different design strategies and tools to obtain a satisfactory design. It is always with the good understanding of the design problem and the characteristics of tools, that a designer will be able to improve the efficiency of the design. Given the described systematic and adaptive aspects of SPC, we believe it can certainly be a useful tool in the lens designer's toolbox.  

\begin{comment}
% Landscape is rather dynamic, to apply the method 
% 0) it is still helps if the starting point would be perfectly chosen (SMS)
% 1) given the dynamic situation, redundancy helps
% 2) given the dynamic situation, recommendation would be first apply SPC and then apply constraint
% 

% Saddle point as a local property holds 
% 1) how this method can be applied in different way
The focus of this dissertation is on the saddle-point construction (SPC) method. By adding two curvature variables which do not alter the system performance, one can construct saddle points with Morse Index $1$ and optimize from them to obtain new local minima. It reveals such a connection in the lens design landscape: the minima with $N+2$ curvature variables are connected to the minima with $N$ curvature variables via the saddle points. In Chapter \ref{chapter_SPC_method_reccomendation}, we have provided practical recommendation on how such feature can be used to get new local minima. This can either be switching to a new solution given the current number of lenses or finding new solutions with extra number of lenses.  

% To look at optimization for actual use cases 
% 1) in a simple landscape, it shows that systems are connected by the saddle point - minima links
% 2) for complicated systems, it is not easy to show all the systems, but what still remains is the essential of the construction where even in very complicated cases can generate useful results. 
% 3) for such a design, it can be combined with traditional design strategy 
Different from other methods, the saddle point - minima network shows a connection between the solutions and therefore provide a systematic way to search for solutions. This is possible when the system complexity (number of variables) is low or moderate low. In Chapter \ref{chapter_SPC_simple_system_landscape}, we have shown for a triplet system, solutions are linked via saddle point systems which can be obtained via SPC. However, we also noticed saddle point which can not be constructed via SPC. Nevertheless, there is sufficient redundancies in the saddle point - minima connection such that we do not miss the good solutions. It is also shown in Chapter \ref{chapter_4_complex_system_exploration} with the wide-angle lens where the system solutions are able to be linked via saddle point construction. From the examples we have investigated, redundancies in the network helps to obtain the good system. But we cannot prove that this redundancies always exist also in complex system. The redundancies means that it is always possible to find a saddle point - mimina starting from an arbitrary minimum in the design landscape and find to best minimum. 

The network of saddle point - minima can grow fast as the number of lenses grows in the systems. This is shown in the microscope objective example in Chapter \ref{chapter_4_complex_system_exploration}. For practical design purpose, analyzing such a complex design network becomes a less helpful task. A more relevant question would be can we still guarantee that new solutions obtained using SPC is viable.
In the example of microscope objective example, we demonstrate how combined with conventional strategy, SPC could benefit lens design by rapidly providing multiple solutions for assessment. In the example of the lithography objective which contains more than twenty lens elements, we have demonstrated that applying SPC can still provide candidate solutions given such complicated system design. Also the benefit is that only local groups are modified without affecting reset of the system configuration. 

The challenge of obtaining a satisfying solutions is always closely tied with the complexity of the design (optimization) landscape. In most of the current research, the non-linearity and the existence of multiple local minima are always emphasized, therefore the interests stated as "how can we find the best system among all as efficient as possible". This is mostly considered a design (optimization) landscape that is static. If we look closely to the design process, the assumption of a static design landscape is not always true. 


QUESTIONS
What are the special properties of the constructable saddle point with respect to the lens design landscape? For simple cases, we can show that by assuming a toy model that representing the major aberration in the system, the constructable saddle points is mapped to the ones in the math model. However, for complicated model, such an analytical mapping is difficult to be found.  

What determines the number of saddle points from a scan?
A high dimensional search, related to the above question.

% note

Questions that we only probed is that where is the best location to run an SPC scan? 
Where is the most effective location to insert saddle point: 
This is a difficult question as we demonstrate that by combining with traditional strategy it can be effective. However, a numerical exhausting is always help (computation is cheap). It could be more relevant to ask that for a certain type of lens system, where is the most effective location to run such a SPC scan.  

Pros:
Reduces the amount of search; smooth tradition avoiding ray failures

Cons:
So far only effective in lens design, in the context of adding a pair of curvatures as new variables. With aspheres, it works, but not practical. 
One variable, and with another variable that perfectly compensate the change introduced by the first variable. -->if it is the case, it is a pair of redundant variable, right? 

global optimization tool or a local optimization tool
\end{comment}

\newpage

\section{Outlook}
In this section, we summarize our recommendations for further activities in the following three aspects.

\subsubsection{I. Make the SPC method more available to the design community}

One of the purposes of this dissertation is to depict better how SPC can be practically used in lens design. Given the presented insights in this dissertation, it is important for SPC to be used more frequently in practical assignments to make it useful for lens design. In the commercial lens design software SYNOPSYS\texttrademark \cite{SYNOPSYSSW}, the special version of SPC is already implemented. It would be valuable if the general version of SPC and the recommendations in this dissertation could also be integrated in such a commercially available software. Following are some of the engineering aspects which need to be clarified before making SPC a robust lens design and optimization tool:
\begin{enumerate}[nosep]
\item To use SPC as a global search method, a strategy to determine the number and position of the SPC scans is necessary. In this dissertation, we look at simple examples and used trial and error to determine the SPC scan positions. However, for an automated global search SPC algorithm, it should be done automatically to ensure the maximum number of saddle points;
\item When optimizing from a constructed saddle point, the neighbourhood around the saddle point should be carefully evaluated to choose the starting points for consecutive local optimization. This is related to the observation that there can be more than two basins of attraction around a constructed saddle point (Figure \ref{fig:basins});
\item Before performing a SPC scan, the local minimum should be sufficiently optimized (minimized); 
\item When restoring the thickness of a zero-thickness element, the thickness should be changed in sufficient small steps such that the system will not suddenly switch to a different basin of attraction; 
\item  An option should be available to allow the designer to use SPC as either a global search tool or semi-global search tool. 
\end{enumerate}


\subsubsection{II. Continue assessing the effectiveness of SPC in lens design}

As aforementioned, the remaining question to answer is: does the saddle points - minima network obtained via SPC always contain the best or the best pool of solutions for lens design? One way to answer it is to see if there is an example to support the negative side of the question (falsification). It requires applying SPC on more design examples and comparing its results with other algorithms to verify if a good solution is missed by SPC. 

Another approach would be trying to better understand the relationship between SPC revealed design network and design landscape. From our point of view, a first step would be characterization of the design landscape. For instance, to quantify the sparsity of the saddle points and minima and the merit function altitude of these critical points. Much like how real-world landscapes are characterized (such as plain and mountains), this characterization of the design landscape could reveal its property that makes SPC always (or not always) capture the best local minima. A practical recommendation would be starting with one type of lens systems that corresponds to a certain type of design landscape. The main difficulty of this approach is having an effective metrics to characterize the design landscape. In addition, it also implies a global search tool is required as reference in order to identify all the region of interest in the landscape. Given such a difficult task together with its less foreseeable practical benefit/interest, from our point of view, it is not a very promising direction. 

\subsubsection{III. Exploration of various techniques for lens design and optimization}

Current research on optical design and optimization tends to treat each method individually and study its effectiveness. As the method does not "see" an optical system but a design landscape, it is a naive intuition of us that a certain method can be more effective than another given a certain type of design landscape (it requires a characterization of the design landscape as we described in II). For instance, in a hilly landscape, SPC is more effective in detecting the "valleys" while in a plain, simulated annealing is more effective in finding the bottom of the "marshes". In SPC, it already combines the saddle point construction with local optimization (damped least-squared) to obtain minima. Other collaborating strategies (e.g. evolutionary algorithm and SPC) can also be explored.

Given the complexity of the design landscape, it is an interesting direction to start combining different design and optimization methods/strategies to see if a collaboration of the methods could further improve the design efficiency. 



\begin{comment}
\textbf{SP}
In the examples we have examined so far, if use SPC as a global optimization tool, it should be OK to start from any of the existing solution to obtain the global optimum (or arrive at the region of the global optimia). 

To prove that the SPC network can always capture the good solutions given a design landscape. That is to say, for the region of the good solutions, the design landscape is structured in a way that SPC network is mapping the saddle point - minima network. 
It requires a deeper investigation of the design landscape. To start with, I would suggest to use a certain type of system and to characterize its landscape (in the dissertation, we have been looking at wide-angle and microscope objectives). 

It is a difficult task.



In addition, since the property for SPC is not constrained to lens design using curvatures, trying to adapt it into other design and optimization area is also interesting.
1) using variables such as thickness, higher-order surface description
2) benefit of constructing higher-order saddle points
3) apply SPC in other design problem, e.g. thin film (zero-thickness, using n as variables, phase-mask)


\textbf{lens design opt}
1) In the search of lens design method, combining multiple strategies would be beneficial rather than only using one. 
Lens design optimization strategy given the complex landscape




%note
//////////
Saddle point wise, 
1) what is the optimal construction place by comparing the curve change via the inserting positions. 

For simple system, it is interesting to see the design networks mostly related to the saddle point network. Few number of lens is used, not much constraint is applied to the system. 

For complicated system, mapping the network via saddle point becomes less value-added. What is sure the basic saddle point-minima approach is mostly fulfilled. 

A more effective future optimization approach would combine different approaches, for example, using saddle point construction to provide multiple starting point and then use them as the seed for genetic algorithm. 

The optimization strategy when adding higher order saddle point (adding more than 2 variables)


To use it as a tool, what should be the requirement and engineering aspects.



freeform, adding new dummy variables 

Thin film using n as variable.

Mapping one set of parameter to another set of parameters, need to gain more understanding on how to config the new set of parameter and its physical meanings, but it is nice to try since it is showing good results. 
\end{comment}


\references{dissertation}

